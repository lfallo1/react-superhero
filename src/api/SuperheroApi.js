var superheroes = [
  {
    "name": "Amazi-Girl",
    "level": 9201,
    "id": 0
  },
  {
    "name": "Aquagirl",
    "level": 8038,
    "id": 1
  },
  {
    "name": "Batgirl",
    "level": 1752,
    "id": 2
  },
  {
    "name": "Batwoman",
    "level": 1812,
    "id": 3
  },
  {
    "name": "Black Queen",
    "level": 7745,
    "id": 4
  },
  {
    "name": "Bulletgirl",
    "level": 9153,
    "id": 5
  },
  {
    "name": "Catwoman",
    "level": 3785,
    "id": 6
  },
  {
    "name": "Cybergirl",
    "level": 5548,
    "id": 7
  },
  {
    "name": "Dani Moonstar",
    "level": 5227,
    "id": 8
  },
  {
    "name": "Darkstar",
    "level": 7964,
    "id": 9
  },
  {
    "name": "Dawnstar",
    "level": 1947,
    "id": 10
  },
  {
    "name": "Dead Girl",
    "level": 9306,
    "id": 11
  },
  {
    "name": "Duck-Girl",
    "level": 1263,
    "id": 12
  },
  {
    "name": "Elasti-Girl",
    "level": 2963,
    "id": 13
  },
  {
    "name": "Elastigirl/Mrs.Incredible",
    "level": 7059,
    "id": 14
  },
  {
    "name": "Firestar",
    "level": 211,
    "id": 15
  },
  {
    "name": "Giant Girl",
    "level": 8430,
    "id": 16
  },
  {
    "name": "Goblin Queen",
    "level": 5295,
    "id": 17
  },
  {
    "name": "Golden Guardian",
    "level": 7803,
    "id": 18
  },
  {
    "name": "Hawkgirl",
    "level": 6026,
    "id": 19
  },
  {
    "name": "Hawkwoman",
    "level": 9635,
    "id": 20
  },
  {
    "name": "Infragirl",
    "level": 3366,
    "id": 21
  },
  {
    "name": "Invisible Woman",
    "level": 7392,
    "id": 22
  },
  {
    "name": "Krista Starr",
    "level": 584,
    "id": 23
  },
  {
    "name": "Lavagirl",
    "level": 4683,
    "id": 24
  },
  {
    "name": "Leper Queen",
    "level": 6000,
    "id": 25
  },
  {
    "name": "Moonstar",
    "level": 1638,
    "id": 26
  },
  {
    "name": "Morgan Stark",
    "level": 2611,
    "id": 27
  },
  {
    "name": "Nightstar",
    "level": 9877,
    "id": 28
  },
  {
    "name": "Northstar",
    "level": 8657,
    "id": 29
  },
  {
    "name": "Owlwoman",
    "level": 7160,
    "id": 30
  },
  {
    "name": "Princess",
    "level": 831,
    "id": 31
  },
  {
    "name": "Princess Powerful",
    "level": 3898,
    "id": 32
  },
  {
    "name": "Proudstar",
    "level": 6124,
    "id": 33
  },
  {
    "name": "Queen",
    "level": 7137,
    "id": 34
  },
  {
    "name": "Queen Noir",
    "level": 3772,
    "id": 35
  },
  {
    "name": "Quicksilver",
    "level": 7530,
    "id": 36
  },
  {
    "name": "Retro Girl",
    "level": 3410,
    "id": 37
  },
  {
    "name": "Shatterstar",
    "level": 7109,
    "id": 38
  },
  {
    "name": "Shooting Star",
    "level": 9078,
    "id": 39
  },
  {
    "name": "Silver",
    "level": 7659,
    "id": 40
  },
  {
    "name": "Silver Centurion",
    "level": 103,
    "id": 41
  },
  {
    "name": "Silver Fox",
    "level": 778,
    "id": 42
  },
  {
    "name": "Silver Sable",
    "level": 9139,
    "id": 43
  },
  {
    "name": "Silver Samurai",
    "level": 8295,
    "id": 44
  },
  {
    "name": "Silver Surfer",
    "level": 3468,
    "id": 45
  },
  {
    "name": "Silverclaw",
    "level": 2805,
    "id": 46
  },
  {
    "name": "Silvermane",
    "level": 510,
    "id": 47
  },
  {
    "name": "Spider-Girl",
    "level": 3354,
    "id": 48
  },
  {
    "name": "Spider-Woman",
    "level": 909,
    "id": 49
  },
  {
    "name": "Squirrel Girl",
    "level": 4016,
    "id": 50
  },
  {
    "name": "Star Brand",
    "level": 5540,
    "id": 51
  },
  {
    "name": "Star-Lady",
    "level": 9502,
    "id": 52
  },
  {
    "name": "Star-Spangled",
    "level": 1733,
    "id": 53
  },
  {
    "name": "Starbolt",
    "level": 7821,
    "id": 54
  },
  {
    "name": "Stardust",
    "level": 4848,
    "id": 55
  },
  {
    "name": "Starfire",
    "level": 334,
    "id": 56
  },
  {
    "name": "Starfox",
    "level": 9119,
    "id": 57
  },
  {
    "name": "Stargirl",
    "level": 9913,
    "id": 58
  },
  {
    "name": "Starhawk",
    "level": 9525,
    "id": 59
  },
  {
    "name": "Starjammers",
    "level": 7221,
    "id": 60
  },
  {
    "name": "Stark Industries",
    "level": 7991,
    "id": 61
  },
  {
    "name": "Starwoman",
    "level": 543,
    "id": 62
  },
  {
    "name": "Supergirl",
    "level": 4681,
    "id": 63
  },
  {
    "name": "Superwoman",
    "level": 3685,
    "id": 64
  },
  {
    "name": "Thor Girl",
    "level": 6755,
    "id": 65
  },
  {
    "name": "Tony Stark",
    "level": 909,
    "id": 66
  },
  {
    "name": "U-Go Girl",
    "level": 4816,
    "id": 67
  },
  {
    "name": "Ultragirl",
    "level": 6320,
    "id": 68
  },
  {
    "name": "Ultrawoman",
    "level": 3659,
    "id": 69
  },
  {
    "name": "Warstar",
    "level": 4925,
    "id": 70
  },
  {
    "name": "WhirlGirl",
    "level": 8399,
    "id": 71
  },
  {
    "name": "White Queen",
    "level": 6296,
    "id": 72
  },
  {
    "name": "Wonder Woman",
    "level": 3553,
    "id": 73
  }
];

var SuperheroApi = {

  sortByProp : function(prop, order){
    return function(a,b){
      return a[prop] > b[prop] ? 1*order : a[prop] < b[prop] ? -1*order : 0;
    }
  },

  addSuperhero : function(name, level){
    var id = superheroes.sort(function(a,b){return a.id < b.id ? 1 : a.id > b.id ? -1 : 0})[0].id + 1;
    superheroes.push({
      id : id,
      name : name,
      level : level
    });
    superheroes = superheroes.sort(this.sortByProp('name',1));
  },

  getSuperheroes : function(){
    return superheroes;
  },

  filterSuperheroes : function(searchText){
    return superheroes.filter(function(superhero){
      return (!searchText || superhero.name.toLowerCase().indexOf(searchText.toLowerCase()))
    });
  }

}

module.exports = SuperheroApi;
